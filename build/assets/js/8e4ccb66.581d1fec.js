"use strict";(self.webpackChunkKatalon_Docs=self.webpackChunkKatalon_Docs||[]).push([[82935],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>u});var o=a(67294);function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e){if(null==t)return{};var a,o,s=function(t,e){if(null==t)return{};var a,o,s={},i=Object.keys(t);for(o=0;o<i.length;o++)a=i[o],e.indexOf(a)>=0||(s[a]=t[a]);return s}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)a=i[o],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}var l=o.createContext({}),c=function(t){var e=o.useContext(l),a=e;return t&&(a="function"==typeof t?t(e):n(n({},e),t)),a},p=function(t){var e=c(t.components);return o.createElement(l.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},m=o.forwardRef((function(t,e){var a=t.components,s=t.mdxType,i=t.originalType,l=t.parentName,p=r(t,["components","mdxType","originalType","parentName"]),m=c(a),u=s,k=m["".concat(l,".").concat(u)]||m[u]||d[u]||i;return a?o.createElement(k,n(n({ref:e},p),{},{components:a})):o.createElement(k,n({ref:e},p))}));function u(t,e){var a=arguments,s=e&&e.mdxType;if("string"==typeof t||s){var i=a.length,n=new Array(i);n[0]=m;var r={};for(var l in e)hasOwnProperty.call(e,l)&&(r[l]=e[l]);r.originalType=t,r.mdxType="string"==typeof t?t:s,n[1]=r;for(var c=2;c<i;c++)n[c]=a[c];return o.createElement.apply(null,n)}return o.createElement.apply(null,a)}m.displayName="MDXCreateElement"},33973:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>m,frontMatter:()=>n,metadata:()=>l,toc:()=>p});var o=a(87462),s=(a(67294),a(3905)),i=a(44996);const n={id:"904caaa0-22b2-11ed-9930-0242fe3e4a3f",title:"Flutter-based application testing with custom SetText keyword in Katalon Studio",slug:"create-tests/keywords/custom-keywords/flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio",hide_title:!0},r='<a id="id" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>Flutter-based application testing with custom SetText keyword in <span xmlns="http://www.w3.org/1999/xhtml" className="ph">Katalon Studio</span>',l={unversionedId:"904caaa0-22b2-11ed-9930-0242fe3e4a3f",id:"904caaa0-22b2-11ed-9930-0242fe3e4a3f",title:"Flutter-based application testing with custom SetText keyword in Katalon Studio",description:"Flutter is a UI toolkit for building applications for mobile,   web, desktop, and embedded devices from a single codebase.",source:"@site/docs/904caaa0-22b2-11ed-9930-0242fe3e4a3f.md",sourceDirName:".",slug:"/create-tests/keywords/custom-keywords/flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio",permalink:"/docs/create-tests/keywords/custom-keywords/flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio",draft:!1,tags:[],version:"current",frontMatter:{id:"904caaa0-22b2-11ed-9930-0242fe3e4a3f",title:"Flutter-based application testing with custom SetText keyword in Katalon Studio",slug:"create-tests/keywords/custom-keywords/flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio",hide_title:!0},sidebar:"aSidebar",previous:{title:"Execute test with Katalon Studio in Internet Explorer (IE) mode in Microsoft Edge",permalink:"/docs/create-tests/keywords/custom-keywords/execute-test-with-katalon-studio-in-internet-explorer-ie-mode-in-microsoft-edge"},next:{title:"Solving Pop-up dialog issue with Katalon Studio",permalink:"/docs/create-tests/keywords/using-keywords-in-katalon-studio/web-testing/solving-pop-up-dialog-issue-with-katalon-studio"}},c={},p=[{value:'<a id="id_1" class="anchor_top_offset"/>Set up Appium Flutter Driver',id:"set-up-appium-flutter-driver",level:2},{value:'<a id="id_2" class="anchor_top_offset"/>Run Flutter-based application test with custom SetText         keyword',id:"run-flutter-based-application-test-with-custom-settext---------keyword",level:2},{value:'<a id="id_3" class="anchor_top_offset"/>How to switch contexts?',id:"how-to-switch-contexts",level:2},{value:'<a id="id_4" class="anchor_top_offset"/>See also',id:"see-also",level:2}],d={toc:p};function m(t){let{components:e,...a}=t;return(0,s.kt)("wrapper",(0,o.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"flutter-based-application-testing-with-custom-settext-keyword-in-katalon-studio"},(0,s.kt)("a",{id:"id",class:"anchor_top_offset"}),(0,s.kt)("a",{id:"ariaid-title1",class:"anchor_top_offset"}),"Flutter-based application testing with custom SetText keyword in ",(0,s.kt)("span",{xmlns:"http://www.w3.org/1999/xhtml",className:"ph"},"Katalon Studio")),(0,s.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"Flutter is a UI toolkit for building applications for mobile,   web, desktop, and embedded devices from a single codebase."),(0,s.kt)("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"note attention note_attention"},(0,s.kt)("span",{className:"note__title"},"Attention:")," ",(0,s.kt)("ul",{className:"ul"},(0,s.kt)("li",{className:"li"},(0,s.kt)("p",{className:"p"},"Katalon Studio partially supports Flutter-based applications. If elements of a Flutter-based app are rendered as in a native app, Katalon Mobile Recorder can capture elements. If those elements are rendered in web view, which is a use case of a hybrid Mobile app, Katalon Studio partially supports elements capturing.")))),(0,s.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"You can use Mobile keywords to automate your Flutter-based   application. However, Katalon Mobile Spy and Recorder currently   cannot detect ",(0,s.kt)("strong",{className:"ph b"},"EditText")," elements in Flutter-based   applications. This tutorial provides a workaround to automatically   test the Flutter-based application using a custom SetText keyword   package."),(0,s.kt)("h2",{id:"set-up-appium-flutter-driver"},(0,s.kt)("a",{id:"id_1",class:"anchor_top_offset"}),"Set up Appium Flutter Driver"),(0,s.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"To set up Katalon Studio for Flutter-based mobile app testing, you need to use Appium Flutter Driver. Appium Flutter Driver is a test automation tool for Flutter apps on multiple platforms/OSes. Appium Flutter Driver is part of the Appium mobile test automation tool maintained by the community. To install Appium Flutter Driver, you can refer to this README file of the Appium GitHub repository: ",(0,s.kt)("a",{className:"xref j-external-link",href:"https://github.com/appium-userland/appium-flutter-driver",target:"_blank"},"Appium Flutter Driver"),"."),(0,s.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"To use Appium Flutter Driver with Katalon Studio, follow these requirements:"),(0,s.kt)("ul",{xmlns:"http://www.w3.org/1999/xhtml",className:"ul"},(0,s.kt)("li",{className:"li"},"Your Flutter App Under Test (AUT) must be compiled in ",(0,s.kt)("code",{className:"ph codeph"},"debug")," or ",(0,s.kt)("code",{className:"ph codeph"},"profile")," mode because Flutter Driver does not support running in release mode."),(0,s.kt)("li",{className:"li"},"Your Flutter AUT has ",(0,s.kt)("code",{className:"ph codeph"},"enableFlutterDriverExtension()")," before ",(0,s.kt)("code",{className:"ph codeph"},"runApp")," in source code.")),(0,s.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"In Katalon Studio, specify this desired capability to let Katalon Studio run with Appium Flutter Driver: Go to ",(0,s.kt)("strong",{className:"ph b"},"Project Settings > Desired Capabilities > Mobile"),". Select Android or iOS, then create a desired capabilities, which value is ",(0,s.kt)("code",{className:"ph codeph"},"Flutter"),"."),(0,s.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},(0,s.kt)("img",{className:"image",src:(0,i.Z)("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/KS-FLUTTER-Set-flutter-DC.png"),width:700,alt:"desired capabilities"}),(0,s.kt)("br",null),(0,s.kt)("br",null)),(0,s.kt)("h2",{id:"run-flutter-based-application-test-with-custom-settext---------keyword"},(0,s.kt)("a",{id:"id_2",class:"anchor_top_offset"}),"Run Flutter-based application test with custom SetText         keyword"),(0,s.kt)("ol",{xmlns:"http://www.w3.org/1999/xhtml",className:"ol"},(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("p",{className:"p"},"In Katalon Studio, open your project and create a new test case.       Record your mobile testing script. Use ",(0,s.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-tap"},"Tap         keyword")," on elements ",(0,s.kt)("strong",{className:"ph b"},"EditText - Email")," and       ",(0,s.kt)("strong",{className:"ph b"},"EditText - Password"),", then click       ",(0,s.kt)("strong",{className:"ph b"},"Save"),"."),"   "),(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("p",{className:"p"},"In the ",(0,s.kt)("strong",{className:"ph b"},"Tests Explorer")," section on the left side       of Katalon Studio, navigate to the ",(0,s.kt)("strong",{className:"ph b"},"Keywords")," folder       and create a new keyword package. Name the package       ",(0,s.kt)("strong",{className:"ph b"},"com.kms.katalon.core.mobile.keyword.builtin"),"."),"     ",(0,s.kt)("p",{className:"p"},"       ",(0,s.kt)("img",{className:"image",src:(0,i.Z)("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/create%20package.png"),width:700,alt:"create package"}),(0,s.kt)("br",null),(0,s.kt)("br",null),"     "),"   "),(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("div",{className:"p"},"       Right click on the       ",(0,s.kt)("strong",{className:"ph b"},"com.kms.katalon.core.mobile.keyword.builtin"),"       package and create a new keyword named       ",(0,s.kt)("strong",{className:"ph b"},"SetTextKeyword"),". See also: ",(0,s.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/custom-keywords/introduction-to-custom-keywords-in-katalon-studio"},"Introduction         to Custom Keywords"),".       ",(0,s.kt)("img",{className:"image",src:(0,i.Z)("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/create%20keyword.png"),width:600,alt:"create Class name"}),(0,s.kt)("br",null),(0,s.kt)("br",null),"       In the ",(0,s.kt)("strong",{className:"ph b"},"SetTextKeyword.groovy")," file, copy and       paste the following script and save it.       ",(0,s.kt)("strong",{className:"ph b"},"SetTextKeyword.groovy script"),":       ",(0,s.kt)("pre",{className:"pre codeblock"},(0,s.kt)("code",null,"package com.kms.katalon.core.mobile.keyword.builtin","\n","\n","import java.text.MessageFormat","\n","\n","import org.openqa.selenium.InvalidElementStateException","\n","import org.openqa.selenium.Keys","\n","import org.openqa.selenium.WebElement","\n","import org.openqa.selenium.interactions.KeyInput","\n","import org.openqa.selenium.interactions.Sequence;","\n","\n","import com.kms.katalon.core.annotation.internal.Action","\n","import com.kms.katalon.core.configuration.RunConfiguration","\n","import com.kms.katalon.core.exception.StepFailedException","\n","import com.kms.katalon.core.helper.KeywordHelper","\n","import com.kms.katalon.core.keyword.internal.SupportLevel","\n","import com.kms.katalon.core.mobile.constants.StringConstants","\n","import com.kms.katalon.core.mobile.keyword.internal.MobileAbstractKeyword","\n","import com.kms.katalon.core.mobile.keyword.internal.MobileDriverFactory","\n","import com.kms.katalon.core.mobile.keyword.internal.MobileKeywordMain","\n","import com.kms.katalon.core.model.FailureHandling","\n","import com.kms.katalon.core.testobject.TestObject","\n","import com.kms.katalon.selenium.util.SeleniumKeysUtil;","\n","\n","import groovy.transform.CompileStatic","\n","import io.appium.java_client.AppiumDriver","\n","\n",'@Action(value = "setText")',"\n","public class SetTextKeyword extends MobileAbstractKeyword ","{","\n","\n","    ","@CompileStatic","\n","    ","@Override","\n","    ","public SupportLevel getSupportLevel(Object ...params) ","{","\n","        ","return super.getSupportLevel(params)","\n","    ","}","\n","\n","    ","@CompileStatic","\n","    ","@Override","\n","    ","public Object execute(Object ...params) ","{","\n","        ","TestObject to = getTestObject(params[0])","\n","        ","String text = (String) params[1]","\n","        ","int timeout = (int) params[2]","\n","        ","FailureHandling flowControl = (FailureHandling)(params.length > 3 && params[3] instanceof FailureHandling ? params[3] : RunConfiguration.getDefaultFailureHandling())","\n","        ","setText(to,text,timeout,flowControl)","\n","    ","}","\n","\n","    ","@CompileStatic","\n","    ","public void setText(TestObject to, String text, int timeout, FailureHandling flowControl) throws StepFailedException ","{","\n","        ","MobileKeywordMain.runKeyword(","{","\n","            ","KeywordHelper.checkTestObjectParameter(to)","\n","            ","timeout = KeywordHelper.checkTimeout(timeout)","\n","            ","WebElement element = findElement(to, timeout * 1000)","\n","            ","if (element == null) ","{","\n","                ","MobileKeywordMain.stepFailed(MessageFormat.format(StringConstants.KW_MSG_OBJ_NOT_FOUND, to.getObjectId()), flowControl, null, true)","\n","                ","return","\n","            ","}","\n","            ","element.clear()","\n","            ","try ","{","\n","                ","element.sendKeys(text.toString())","\n","            ","}"," catch (InvalidElementStateException e) ","{","\n","                ","AppiumDriver driver = MobileDriverFactory.getDriver()","\n","                ","element.click()","\n","                ",'KeyInput keyboard = new KeyInput("keyboard");',"\n","                ","Sequence sendKeys = new Sequence(keyboard, 0);","\n","\n","                ","for (int i = 0; i < text.length(); i++) ","{","\n","                    ","String c = text.charAt(i).toString()","\n","\n","                    ","sendKeys.addAction(keyboard.createKeyDown(c.codePointAt(0)));","\n","                ","}","\n","\n","                ","driver.perform(Arrays.asList(sendKeys));","\n","            ","}","\n","            ","String readableText = SeleniumKeysUtil.getReadableText(text)","\n","            ","logger.logPassed(MessageFormat.format(StringConstants.KW_LOG_PASSED_TEXT_HAS_BEEN_SET_TO_ELEMENT, [","\n","                ","readableText,","\n","                ","to.getObjectId()] as Object[]))","\n","        ","}",", flowControl, true, to != null ? MessageFormat.format(StringConstants.KW_MSG_FAILED_TO_SET_ELEMENT_TEXT, to.getObjectId()) : StringConstants.KW_MSG_FAILED_TO_SET_ELEMENT_TEXT)","\n","    ","}","\n","}","\n")),"     "),"     ",(0,s.kt)("p",{className:"p"},"       ",(0,s.kt)("img",{className:"image",src:(0,i.Z)("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/KS-flutter-based-application-testing-folder.png"),width:700,alt:"create custom keyword"}),(0,s.kt)("br",null),(0,s.kt)("br",null),"     "),"   "),(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("p",{className:"p"},"In the toolbar, select ",(0,s.kt)("strong",{className:"ph b"},"Window > Reset         Perspective..."),"     "),"   "),(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("p",{className:"p"},"Create a Test Case and switch to ",(0,s.kt)("strong",{className:"ph b"},"Script")," mode.       Enter ",(0,s.kt)("strong",{className:"ph b"},"Mobile.setText"),", then select       ",(0,s.kt)("code",{className:"ph codeph"},"setText(TestObject to, String text, int timeout, FailureHandling flowcontrol)"),". See also: ",(0,s.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-set-text"},"[Mobile]         Set Text"),"."),"     ",(0,s.kt)("p",{className:"p"},"       ",(0,s.kt)("img",{className:"image",src:(0,i.Z)("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/flutter-based-application-testing/KS-flutter-setText.png"),width:700,alt:"settext option"}),(0,s.kt)("br",null),(0,s.kt)("br",null),"     "),"   "),(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("p",{className:"p"},"Run your Test Case and see if it passes successfully."),"   ")),(0,s.kt)("h2",{id:"how-to-switch-contexts"},(0,s.kt)("a",{id:"id_3",class:"anchor_top_offset"}),"How to switch contexts?"),(0,s.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"For the test engine to know whether you want to automate the   native aspects of the app or the web views, Katalon Studio provides   two keywords that help you switch contexts:"),(0,s.kt)("ul",{xmlns:"http://www.w3.org/1999/xhtml",className:"ul"},"   ",(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-switch-to-native"},"Switch       to Native"),"   "),"   ",(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-switch-to-web-view"},"Switch       to WebView"),"   ")," "),(0,s.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"The following is a code sample that automates elements of the   app:"),(0,s.kt)("pre",{xmlns:"http://www.w3.org/1999/xhtml",className:"pre codeblock"},(0,s.kt)("code",null,"Mobile.switchToWebView()","\n","DriverFactory.changeWebDriver(MobileDriverFactory.getDriver())","\n","\n","TestObject cdmDetails = new TestObject()","\n",'cdmDetails.addProperty("id", ConditionType.EQUALS, "119")',"\n",'WebUI.setText(cdmDetails, "123")',"\n","\n","Mobile.switchToNative()","\n")),(0,s.kt)("h2",{id:"see-also"},(0,s.kt)("a",{id:"id_4",class:"anchor_top_offset"}),"See also"),(0,s.kt)("ul",{xmlns:"http://www.w3.org/1999/xhtml",className:"ul"},"   ",(0,s.kt)("li",{className:"li"},"     ",(0,s.kt)("a",{className:"xref",href:"/docs/create-tests/record-and-spy/mobile-record-and-spy-utilities/hybrid-mobile-apps-testing/capture-elements-in-hybrid-android-apps-in-katalon-studio"},"Capture       elements in hybrid Android apps"),"   ")," "))}m.isMDXComponent=!0}}]);
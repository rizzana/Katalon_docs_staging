"use strict";(self.webpackChunkKatalon_Docs=self.webpackChunkKatalon_Docs||[]).push([[79947],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>h});var s=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,s,o=function(e,t){if(null==e)return{};var a,s,o={},n=Object.keys(e);for(s=0;s<n.length;s++)a=n[s],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var r=s.createContext({}),c=function(e){var t=s.useContext(r),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=c(e.components);return s.createElement(r.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},p=s.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,r=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),p=c(a),h=o,u=p["".concat(r,".").concat(h)]||p[h]||d[h]||n;return a?s.createElement(u,l(l({ref:t},m),{},{components:a})):s.createElement(u,l({ref:t},m))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,l=new Array(n);l[0]=p;var i={};for(var r in t)hasOwnProperty.call(t,r)&&(i[r]=t[r]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var c=2;c<n;c++)l[c]=a[c];return s.createElement.apply(null,l)}return s.createElement.apply(null,a)}p.displayName="MDXCreateElement"},49097:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>m});var s=a(87462),o=(a(67294),a(3905)),n=a(44996);const l={id:"967a1660-22b2-11ed-9930-0242fe3e4a3f",title:"[Mobile] Image-based testing in Katalon Studio",slug:"create-tests/manage-projects/set-up-projects/mobile-testing/mobile-image-based-testing-in-katalon-studio",hide_title:!0},i='<a id="id" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>[Mobile] Image-based testing in <span xmlns="http://www.w3.org/1999/xhtml" className="ph">Katalon Studio</span>',r={unversionedId:"967a1660-22b2-11ed-9930-0242fe3e4a3f",id:"967a1660-22b2-11ed-9930-0242fe3e4a3f",title:"[Mobile] Image-based testing in Katalon Studio",description:"Starting from version 7.2, image-based testing   is available for Katalon Studio Enterprise users.",source:"@site/docs/967a1660-22b2-11ed-9930-0242fe3e4a3f.md",sourceDirName:".",slug:"/create-tests/manage-projects/set-up-projects/mobile-testing/mobile-image-based-testing-in-katalon-studio",permalink:"/docs/create-tests/manage-projects/set-up-projects/mobile-testing/mobile-image-based-testing-in-katalon-studio",draft:!1,tags:[],version:"current",frontMatter:{id:"967a1660-22b2-11ed-9930-0242fe3e4a3f",title:"[Mobile] Image-based testing in Katalon Studio",slug:"create-tests/manage-projects/set-up-projects/mobile-testing/mobile-image-based-testing-in-katalon-studio",hide_title:!0},sidebar:"aSidebar",previous:{title:"Perform Touch ID with iOS device simulator",permalink:"/docs/create-tests/manage-projects/set-up-projects/mobile-testing/ios/perform-touch-id-with-ios-device-simulator"},next:{title:"Testing Mobile Apps using Katalon Studio and Kobiton cloud-based device farm",permalink:"/docs/create-tests/manage-projects/set-up-projects/mobile-testing/testing-mobile-apps-using-katalon-studio-and-kobiton-cloud-based-device-farm"}},c={},m=[{value:'<a id="id_1" class="anchor_top_offset"/>Set-up',id:"set-up",level:2},{value:'<a id="id_2" class="anchor_top_offset"/>Windows',id:"windows",level:3},{value:'<a id="id_3" class="anchor_top_offset"/>macOS',id:"macos",level:3},{value:'<a id="id_4" class="anchor_top_offset"/>Linux',id:"linux",level:3},{value:'<a id="id_5" class="anchor_top_offset"/>Keywords',id:"keywords",level:2},{value:'<a id="id_6" class="anchor_top_offset"/>Capture Images',id:"capture-images",level:2},{value:'<a id="id_7" class="anchor_top_offset"/>Tutorial',id:"tutorial",level:3},{value:'<a id="id_8" class="anchor_top_offset"/>Capture Tool and Storage',id:"capture-tool-and-storage",level:3},{value:'<a id="id_9" class="anchor_top_offset"/>Acceptance Threshold',id:"acceptance-threshold",level:2}],d={toc:m};function p(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,s.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"mobile-image-based-testing-in-katalon-studio"},(0,o.kt)("a",{id:"id",class:"anchor_top_offset"}),(0,o.kt)("a",{id:"ariaid-title1",class:"anchor_top_offset"}),"[Mobile]"," Image-based testing in ",(0,o.kt)("span",{xmlns:"http://www.w3.org/1999/xhtml",className:"ph"},"Katalon Studio")),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"Starting from ",(0,o.kt)("strong",{className:"ph b"},"version 7.2"),", image-based testing   is available for Katalon Studio Enterprise users."),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"This feature allows you to locate and interact with Mobile   objects by their images. It is particularly helpful in the   following use cases:"),(0,o.kt)("ul",{xmlns:"http://www.w3.org/1999/xhtml",className:"ul"},(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("p",{className:"p"},"Dynamic test objects without unique selectors (their values are       passed through the parameters during execution) or visual objects       that are traditionally identified by their orders in a list."),"   "),(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("p",{className:"p"},"Objects in a canvas of 2D or 3D game (you can conventionally       identify the canvas elements, not what's inside)."),"   ")),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"Built upon Appium, image-based testing for Mobile in Katalon   Studio relies on Appium's finding image objects. Read more about it   ",(0,o.kt)("a",{className:"xref j-external-link",href:"http://appium.io/docs/en/advanced-concepts/image-elements/",target:"_blank"},"here"),".   Katalon Studio automatically encodes images to Base64 for reference   during test execution. The reference images will be used for   finding the most matching area of the screen, which means the key   to successfully finding visual elements is capturing reference   images. This section will guide you through how to set up visual   element testing, best practice for capturing images, and custom   acceptance threshold."),(0,o.kt)("h2",{id:"set-up"},(0,o.kt)("a",{id:"id_1",class:"anchor_top_offset"}),"Set-up"),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"You need the native OpenCV library in nodejs. Install ",(0,o.kt)("a",{className:"xref j-external-link",href:"https://www.npmjs.com/package/opencv4nodejs",target:"_blank"},"opencv4nodejs"),",   which supports OpenCV 3 and OpenCV 4."),(0,o.kt)("h3",{id:"windows"},(0,o.kt)("a",{id:"id_2",class:"anchor_top_offset"}),"Windows"),(0,o.kt)("ol",{xmlns:"http://www.w3.org/1999/xhtml",className:"ol"},"   ",(0,o.kt)("li",{className:"li"},"Download and install ",(0,o.kt)("a",{className:"xref j-external-link",href:"https://cmake.org/download/",target:"_blank"},"CMake"),"."),"   ",(0,o.kt)("li",{className:"li"},"Add CMake binary folder to PATH in Environment Variables. ",(0,o.kt)("img",{className:"image",src:(0,n.Z)("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/mobile-image-based-testing.md/cmake-windows.png")}),(0,o.kt)("br",null),(0,o.kt)("br",null),"   "),"   ",(0,o.kt)("li",{className:"li"},"Run the following commands")," "),(0,o.kt)("pre",{xmlns:"http://www.w3.org/1999/xhtml",className:"pre codeblock"},(0,o.kt)("code",null,"   ","npm install -g appium","\n","    ","npm install -g windows-build-tools","\n","    ","npm install -g opencv4nodejs","\n")),(0,o.kt)("h3",{id:"macos"},(0,o.kt)("a",{id:"id_3",class:"anchor_top_offset"}),"macOS"),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"Run the following commands"),(0,o.kt)("pre",{xmlns:"http://www.w3.org/1999/xhtml",className:"pre codeblock"},(0,o.kt)("code",null,"   ","brew update","\n","    ","brew install cmake","\n","    ","npm install -g appium","\n","    ","npm install -g opencv4nodejs","\n")),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"   ",(0,o.kt)("strong",{className:"ph b"},"Troubleshoot"),":"),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"You may encounter this error:"),(0,o.kt)("pre",{xmlns:"http://www.w3.org/1999/xhtml",className:"pre codeblock"},(0,o.kt)("code",null,"make: *** [all] Error 2","\n","ERR! child process exited with code 2 (for more info, set '--loglevel silly') ","\n","npm ERR! code ELIFECYCLE","\n","npm ERR! errno 1","\n","npm ERR! opencv-build@0.1.9 install: `node ./install.js`","\n","npm ERR! Exit status 1","\n")),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"That means the auto-build may fail to install opencv4nodejs,   please try the following commands:"),(0,o.kt)("pre",{xmlns:"http://www.w3.org/1999/xhtml",className:"pre codeblock"},(0,o.kt)("code",null,"   ","brew unlink tesseract","\n","    ","npm install -g opencv4nodejs","\n","    ","brew link tesseract","\n")),(0,o.kt)("h3",{id:"linux"},(0,o.kt)("a",{id:"id_4",class:"anchor_top_offset"}),"Linux"),(0,o.kt)("ol",{xmlns:"http://www.w3.org/1999/xhtml",className:"ol"},(0,o.kt)("li",{className:"li"},"Download and install ",(0,o.kt)("a",{className:"xref j-external-link",href:"https://cmake.org/download/",target:"_blank"},"CMake"),"."),(0,o.kt)("li",{className:"li"},"Export CMake binary folder to PATH of Environment     Variables."),(0,o.kt)("li",{className:"li"},"Run the following commands")),(0,o.kt)("pre",{xmlns:"http://www.w3.org/1999/xhtml",className:"pre codeblock"},(0,o.kt)("code",null,"   ","npm install -g appium","\n","    ","npm install -g opencv4nodejs","\n")),(0,o.kt)("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"note note note_note"},(0,o.kt)("span",{className:"note__title"},"Note:"),"  It takes 30-40 minutes to complete the installation."),(0,o.kt)("h2",{id:"keywords"},(0,o.kt)("a",{id:"id_5",class:"anchor_top_offset"}),"Keywords"),(0,o.kt)("ol",{xmlns:"http://www.w3.org/1999/xhtml",className:"ol"},"   ",(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-verify-image-present"},"Verify       Image Present"),"   "),"   ",(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-tap-on-image"},"Tap       On Image"),"   "),"   ",(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-find-image-element"},"Find       Image Element"),"   "),"   ",(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("a",{className:"xref",href:"/docs/create-tests/keywords/keyword-description-in-katalon-studio/mobile-keywords/mobile-find-image-elements"},"Find       Image Elements"),"   ")," "),(0,o.kt)("h2",{id:"capture-images"},(0,o.kt)("a",{id:"id_6",class:"anchor_top_offset"}),"Capture Images"),(0,o.kt)("h3",{id:"tutorial"},(0,o.kt)("a",{id:"id_7",class:"anchor_top_offset"}),"Tutorial"),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"Below is how to capture an image of the desired Mobile elements for interaction during test executions:"),(0,o.kt)("ol",{xmlns:"http://www.w3.org/1999/xhtml",className:"ol"},(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("p",{className:"p"},"Start your AUT with Mobile Spy/Recorder. Remember to have your mobile device connected to Katalon Studio."),"   "),(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("p",{className:"p"},"Click ",(0,o.kt)("span",{className:"ph uicontrol"},"Capture Object")," to capture an image of the screen."),"   "),(0,o.kt)("li",{className:"li"},"     ",(0,o.kt)("p",{className:"p"},"Open a screenshot in the ",(0,o.kt)("strong",{className:"ph b"},"screenshot")," folder and crop the recognition area that Katalon Studio will use for searching matching elements during test execution (reference image)."),"   ")),(0,o.kt)("h3",{id:"capture-tool-and-storage"},(0,o.kt)("a",{id:"id_8",class:"anchor_top_offset"}),"Capture Tool and Storage"),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"You're recommended to take a screenshot by Appium Driver in   Mobile Spy/Recorder since those screenshots are automatically   resized. Image size and resolution significantly affect the visual   element comparison."),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"To find and view screenshots of the captured objects:"),(0,o.kt)("ul",{xmlns:"http://www.w3.org/1999/xhtml",className:"ul"},"   ",(0,o.kt)("li",{className:"li"},"macOS: ",(0,o.kt)("strong",{className:"ph b"},"/Applications/Katalon       Studio.app/Contents/MacOS/screenshot/"),"   "),"   ",(0,o.kt)("li",{className:"li"},"Windows: ",(0,o.kt)("strong",{className:"ph b"},"Katalon       Studio\\config\\screenshot"),".")," "),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"It is recommended to save the image representing a Mobile   element in its project folder for managing objects easier."),(0,o.kt)("h2",{id:"acceptance-threshold"},(0,o.kt)("a",{id:"id_9",class:"anchor_top_offset"}),"Acceptance Threshold"),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"There is an acceptance threshold to define the possible outcome   of image comparison. Acceptance threshold in Katalon Studio is set   0.4 by default, which means any found image with the similarity   measure less than 0.4 will be rejected. This threshold is based on   the default match threshold in Appium."),(0,o.kt)("p",{xmlns:"http://www.w3.org/1999/xhtml",className:"p"},"On the scale from 0 to 1, you can customize the acceptance   threshold, which defines the degrees of match by using the   ",(0,o.kt)("code",{className:"ph codeph"},"IMAGE_MATCH_THRESHOLD")," option. It's recommended to use   the default threshold ",(0,o.kt)("strong",{className:"ph b"},"0.4")," to find your match. If   you're not finding matching objects, you can try a lower acceptance   level; if the returned objects are wrongly matched, raise the   threshold value. For example, to set 0.6 as the match   threshold:"),(0,o.kt)("pre",{xmlns:"http://www.w3.org/1999/xhtml",className:"pre codeblock"},(0,o.kt)("code",null,"Mobile.startExistingApplication('com.google.android.youtube')","\n","\n","MobileDriverFactory.getDriver().setSetting(Setting.IMAGE_MATCH_THRESHOLD, 0.6)","\n","\n",'Mobile.findImageElements("/Users/demokatalon/Katalon Studio/image based testing/Screenshot/hat.png")',"\n")))}p.isMDXComponent=!0}}]);